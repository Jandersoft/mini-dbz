#!/usr/bin/python
import pygame, sys, glob
from pygame import *
from spriteanimation import SpriteAnimation

class Characters(SpriteAnimation):
    def __init__(self, acaoInicial, speed = 15):
        """Iniciation of the player states"""
        SpriteAnimation.__init__(self,acaoInicial, speed = 15)
        self.pos = 1
        self.pos2 = 1
        self.movex, self.movey = 0,0
        self.facingRight = True
        self.x = 250
        self.y = 350
        self.Rect = Rect(self.x, self.y, 35, 70)

    def loadCharacter(self, character):
        """
        Load the images of a specific character
        """
        if character == 'goku':
            self.photo3x4 = pygame.image.load("../resources/imagens/player/goku/ss4/gokuPhoto.png")
            self.photo3x4Fliped  = pygame.transform.flip(self.photo3x4, 1,0)
            self.Win = pygame.image.load("../resources/imagens/player/goku/ss4/gokuWin.png")
            self.loadSprites("../resources/imagens/player/goku/ss4/goku-ss4.png")
            self.createAnimation(0,0,48,70,4,"down",hold = False)
            self.createAnimation(6,200,51,70,4,"up")
            self.erasePositions("up", [0,2])
            self.repeatPosition("up",1, [1])
            self.createAnimation(0,72,65,70,4,"right")   
            self.createAnimation(164,2272,56,70,4,"defend") 
            self.erasePositions("defend",[0,1,3])
            self.createAnimation(164,1500,57,80,10,"kameham",hold=True, speed = 1) 
            self.erasePositions("kameham",[6,7,8,9])
            #Punch
            self.insertFrame(120,367,58,60)
            self.insertFrame(180,367,58,60)
            self.insertFrame(211,1674,65,60)
            self.insertFrame(249,367,65,60)
            #hold to maintain last frame
            self.buildAnimation("punch",hold=True, speed = 5)
            #Kick
            self.insertFrame(113,443,57,60)
            self.insertFrame(166,443,60,60)
            self.insertFrame(235,443,66,60)
            self.insertFrame(303,443,66,60)
            self.insertFrame(375,443,68,60)
            self.insertFrame(448,443,68,60)
            self.insertFrame(375,443,58,60)
            self.buildAnimation("kick",hold=True, speed = 5)
            #Lose
            self.insertFrame(855,3354,40,60)
            self.buildAnimation("lose",hold=False, speed = 10)
            #Loading
            self.insertFrame(115,1400,83,90)
            self.insertFrame(195,1400,83,90)
            self.buildAnimation("load",hold=True, speed = 15)
            #hited
            self.insertFrame(65,900,52,90)
            self.insertFrame(170,900,80,90)
            self.buildAnimation("hited",hold=False, speed = 15)
            #Goku-Combo
            self.insertFrame(119,1653,50,80)
            self.insertFrame(167,1653,47,80)
            self.insertFrame(114,1728,50,80)
            self.insertFrame(168,1730,50,80)
            self.insertFrame(217,1730,70,80)
            self.insertFrame(284,1730,70,80)
            self.insertFrame(349,1730,50,80)
            self.insertFrame(402,1730,50,80)
            #puch-combo
            self.insertFrame(120,367,58,60)
            self.insertFrame(180,367,58,60)
            self.insertFrame(211,1674,65,60)
            self.insertFrame(249,367,65,60)
            #kick-combo
            self.insertFrame(113,443,57,60)
            self.insertFrame(166,443,60,60)
            self.insertFrame(235,443,66,60)
            self.insertFrame(303,443,66,60)
            self.insertFrame(375,443,68,60)
            self.insertFrame(448,443,68,60)
            self.insertFrame(375,443,58,60)
            self.insertFrame(454,1730,50,80)
            self.buildAnimation("combo",hold=True, speed = 5)
            #teleport
            self.insertFrame(119,1653,50,80)
            self.insertFrame(167,1653,47,80)
            self.buildAnimation("teleport",hold=True, speed = 5)
            #dispute
            self.insertFrame(498,1815,55,60)
            self.insertFrame(560,1815,55,60)
            self.buildAnimation("disputa",hold=True, speed = 5)
        if character == 'vegeta':
            self.photo3x4 = pygame.image.load("../resources/imagens/player/vegeta/vegeta-2.png")
            self.photo3x4Fliped  = pygame.transform.flip(self.photo3x4, 1,0)
            self.Win = pygame.image.load("../resources/imagens/player/vegeta/vegetaWin.jpeg")
            self.loadSprites("../resources/imagens/player/vegeta/vegeta-ss4-2.png")
            self.insertFrame(381,68,40,80)
            self.insertFrame(419,68,36,80)
            self.insertFrame(453,68,40,80)
            self.insertFrame(491,68,40,80)
            self.buildAnimation("down",hold=False, speed = 10)
            #lose
            self.insertFrame(840,1407,40,80)
            self.buildAnimation("lose",hold=False, speed = 10)
            #back
            self.insertFrame(49,982,48,80)
            self.buildAnimation("up",hold=False, speed = 10)
            #left
            self.insertFrame(0,161,55,55)
            self.buildAnimation("right",hold=False, speed = 10)
            #right
            self.insertFrame(634,84,46,55)
            self.buildAnimation("defend",hold=False, speed = 10)
            #punch
            self.insertFrame(57,417,55,55)
            self.insertFrame(110,417,70,55)
            self.insertFrame(175,417,65,55)
            self.buildAnimation("punch",hold=True, speed = 5)
            #kick
            self.insertFrame(56,594,41,75)
            self.insertFrame(96,594,55,75)
            self.insertFrame(155,594,65,75)
            self.buildAnimation("kick",hold=True, speed = 4)
            #kameham
            self.insertFrame(225,2007,55,75)
            self.insertFrame(274,2007,55,75)
            self.insertFrame(325,2007,70,75)
            self.buildAnimation("kameham",hold=True, speed = 5)
            #loading
            self.insertFrame(112,1274,95,85)
            self.insertFrame(200,1274,95,85)
            self.buildAnimation("load",hold=True, speed = 5)
            #hited
            self.insertFrame(0,1400,48,75)
            self.insertFrame(48,1400,43,75)
            self.buildAnimation("hited",hold=False, speed = 15)
            #teleport
            self.insertFrame(642,289,50,80)
            self.buildAnimation("teleport",hold=True, speed = 5)
            #dispute
            self.insertFrame(333,2012,55,60)
            self.insertFrame(390,2012,55,60)
            self.buildAnimation("disputa",hold=False, speed = 10)
        if character == 'trunks':
            self.photo3x4 = pygame.image.load("../resources/imagens/player/trunks/trunks3x4.png")
            self.photo3x4Fliped  = pygame.transform.flip(self.photo3x4, 1,0)
            if self.playerId == 2:
                self.Win = pygame.image.load("../resources/imagens/player/trunks/win2.jpg")
                self.Win  = pygame.transform.flip(self.Win, 1,0)
            else:
                self.Win = pygame.image.load("../resources/imagens/player/trunks/win2.jpg")
            self.loadSprites("../resources/imagens/player/trunks/trunks.png")
            self.insertFrame(37,18,50,75)
            self.insertFrame(84,18,50,75)
            self.buildAnimation("down",hold=False, speed = 15)
            self.insertFrame(760,118,50,85)
            self.buildAnimation("up",hold=False, speed = 15)
            self.insertFrame(28,994,60,95)
            self.buildAnimation("right",hold=False, speed = 15)
            self.insertFrame(226,1630,50,85)
            self.insertFrame(272,1630,50,85)
            self.insertFrame(318,1630,50,85)
            self.buildAnimation("kameham",hold=True, speed = 5)
            self.insertFrame(272,1630,50,85)
            self.insertFrame(318,1630,50,85)
            self.buildAnimation("disputa",hold=False, speed = 5)
            self.insertFrame(239,2524,50,85)
            self.buildAnimation("hited",hold=True, speed = 5)
            self.insertFrame(814,2772,130,135)
            self.insertFrame(940,2772,130,135)
            self.buildAnimation("load",hold=True, speed = 5)
            self.insertFrame(553,2752,100,75)
            self.buildAnimation("lose",hold=False, speed = 15)
            self.insertFrame(85,2304,48,95)
            self.buildAnimation("defend",hold=False, speed = 15)
            self.insertFrame(155,1124,60,95)
            self.insertFrame(216,1103,90,130)
            self.insertFrame(304,1140,90,130)
            self.insertFrame(401,1122,100,130)
            self.buildAnimation("punch",hold=False, speed = 5)
            self.insertFrame(370,682,50,85)
            self.insertFrame(536,500,70,85)
            self.buildAnimation("kick",hold=True, speed = 5)
            self.insertFrame(597,1115,70,90)
            self.buildAnimation("teleport",hold=True, speed = 5)
        if character == 'frieza':
            self.photo3x4 = pygame.image.load("../resources/imagens/player/frieza/frieza3x4.png")
            self.photo3x4Fliped  = pygame.transform.flip(self.photo3x4, 1,0)
            self.Win = pygame.image.load("../resources/imagens/player/frieza/win.png")
            self.loadSprites("../resources/imagens/player/frieza/frieza-3.png")
            self.insertFrame(29,98,40,65)
            self.insertFrame(73,98,40,65)
            self.buildAnimation("down",hold=False, speed = 10)
            self.insertFrame(110,1170,55,85)
            self.insertFrame(163,1170,55,85)
            self.buildAnimation("up",hold=False, speed = 10)
            self.insertFrame(23,200,65,75)
            self.insertFrame(91,200,65,75)
            self.buildAnimation("right",hold=False, speed = 10)
            self.insertFrame(75,2490,65,75)
            self.buildAnimation("hited",hold=False, speed = 10)
            self.insertFrame(256,2500,80,90)
            self.buildAnimation("lose",hold=False, speed = 10)
            self.insertFrame(289,1742,120,90)
            self.insertFrame(408,1742,120,90)
            self.buildAnimation("load",hold=False, speed = 10)
            self.insertFrame(23,522,50,80)
            self.insertFrame(80,522,50,80)
            self.insertFrame(143,522,78,80)
            self.insertFrame(234,522,78,80)
            self.insertFrame(306,522,50,80)
            self.insertFrame(358,522,50,80)
            self.buildAnimation("kick",hold=False, speed = 5)
            self.insertFrame(148,1888,100,60)
            self.insertFrame(262,1888,100,60)
            self.insertFrame(456,2598,60,60)
            self.insertFrame(522,2598,60,60)
            self.insertFrame(580,2598,60,60)
            self.insertFrame(640,2598,60,60)
            self.buildAnimation("punch",hold=True, speed = 4)
            self.insertFrame(405,100,55,65)
            self.buildAnimation("defend",hold=False, speed = 15)
            self.insertFrame(318,193,70,80)
            self.buildAnimation("teleport",hold=True, speed = 5)
            self.insertFrame(331,2165,70,100)
            self.insertFrame(395,2147,65,120)
            self.insertFrame(458,2180,65,90)
            self.insertFrame(609,2180,75,80)
            self.buildAnimation("kameham",hold=False, speed = 5)
            self.insertFrame(443,2080,90,75)
            self.insertFrame(544,2080,80,85)
            self.buildAnimation("disputa",hold=True, speed = 5)
        if character == 'gohan':
            self.photo3x4 = pygame.image.load("../resources/imagens/player/gohan/gohan3x4.png")
            self.photo3x4Fliped  = pygame.transform.flip(self.photo3x4, 1,0)
            self.Win = pygame.image.load("../resources/imagens/player/gohan/win.png")
            self.loadSprites("../resources/imagens/player/gohan/gohan.png")
            self.insertFrame(10,53,50,80)
            self.insertFrame(57,53,50,80)
            self.buildAnimation("down",hold=False, speed = 10)
            self.insertFrame(167,330,50,85)
            self.insertFrame(65,330,50,85)
            self.buildAnimation("up",hold=False, speed = 10)
            self.insertFrame(12,150,70,85)
            self.insertFrame(83,150,70,85)
            self.buildAnimation("right",hold=False, speed = 10)
            self.insertFrame(83,947,57,85)
            self.insertFrame(190,947,57,85)
            self.buildAnimation("hited",hold=False, speed = 10)
            self.insertFrame(28,1105,90,105)
            self.insertFrame(118,1105,90,105)
            self.buildAnimation("load",hold=False, speed = 10)
            self.insertFrame(74,442,57,80)
            self.buildAnimation("defend",hold=False, speed = 10)
            self.insertFrame(15,1412,57,80)
            self.buildAnimation("teleport",hold=True, speed = 10)
            self.insertFrame(70,564,60,80)
            self.insertFrame(127,564,60,80)
            self.insertFrame(182,564,75,80)
            self.buildAnimation("punch",hold=True, speed = 2)
            self.insertFrame(122,656,60,80)
            self.insertFrame(180,656,64,80)
            self.insertFrame(255,656,64,80)
            self.insertFrame(326,656,69,80)
            self.insertFrame(406,656,69,80)
            self.insertFrame(479,656,69,80)
            self.buildAnimation("kick",hold=True, speed = 5)
            self.insertFrame(495,1740,69,80)
            self.insertFrame(160,1740,69,80)
            self.insertFrame(292,1740,69,80)
            self.buildAnimation("kameham",hold=False, speed = 5)
            self.insertFrame(216,1420,72,80)
            self.insertFrame(346,1420,72,80)
            self.buildAnimation("disputa",hold=False, speed = 10)
            self.insertFrame(460,1065,80,80)
            self.buildAnimation("lose",hold=False, speed = 10)

    def loadPower(self,power):
        """
        Load power images
        """
        power.loadSprites("../resources/imagens/player/goku/ss4/power-1.png")
        power.createAnimation(1300,1604,146,40,1,"void")
        power.insertFrame(0,132,1100,50) #Full Power
        power.insertFrame(0,132,1100,50) #Full Power
        power.insertFrame(0,132,1100,50) #Full Power
        power.insertFrame(1300,1604,146,40) #void
        power.buildAnimation("kame",hold=True, speed = 10)
        power.insertFrame(10,370,1200,50) 
        power.insertFrame(10,480,1200,50) 
        power.insertFrame(10,370,1200,50) 
        power.insertFrame(10,540,1200,50) 
        power.buildAnimation("disputa",hold=False, speed = 10)
        power.insertFrame(10,851,1200,50) 
        power.insertFrame(10,914,1200,50) 
        power.buildAnimation("disputa2",hold=False, speed = 10)
        power.insertFrame(10,972,1200,50) 
        power.insertFrame(10,1037,1200,50) 
        power.buildAnimation("disputa3",hold=False, speed = 10)
        power.insertFrame(10,600,1200,50) #void
        power.insertFrame(10,660,1200,50) #void
        power.buildAnimation("from-right",hold=True, speed = 10)
        power.insertFrame(3,720,1200,50) #void
        power.buildAnimation("from-left",hold=True, speed = 10)
        power.insertFrame(266,1580,50,50)
        power.insertFrame(108,1486,40,40)
        power.insertFrame(72,1486,40,40)
        power.insertFrame(295,1486,40,40)
        power.buildAnimation("faiscas",hold=False, speed = 10)
        power.insertFrame(506,2850,100,110)
        power.insertFrame(506,2850,100,110)
        power.insertFrame(358,2883,77,90)
        power.insertFrame(1300,1604,146,40) #void
        power.buildAnimation("explosao",hold=False, speed = 20)
        power.insertFrame(358,2434,98,90)
        power.insertFrame(449,2434,98,90)
        power.buildAnimation("ki",hold=False, speed = 20)
    
